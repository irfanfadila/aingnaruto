USE master;
GO

IF OBJECT_ID ('sp_help_revlogin') IS NOT NULL
    DROP PROCEDURE sp_help_revlogin;
GO

CREATE PROCEDURE sp_help_revlogin
AS
BEGIN
    DECLARE @name            NVARCHAR(128)
    DECLARE @type_desc       NVARCHAR(128)
    DECLARE @is_disabled     INT
    DECLARE @binpwd          VARBINARY(256)
    DECLARE @sid             VARBINARY(85)
    DECLARE @defaultdb       NVARCHAR(128)
    DECLARE @is_policy_checked VARCHAR(3)
    DECLARE @is_expiration_checked VARCHAR(3)

    PRINT '/* Generated by sp_help_revlogin */'
    PRINT ''

    DECLARE login_curs CURSOR FOR
    SELECT 
        sp.name, 
        sp.type_desc, 
        sp.is_disabled,
        ISNULL(sp.default_database_name, 'master') AS defaultdb, 
        sl.is_policy_checked, 
        sl.is_expiration_checked, 
        sp.sid, 
        sl.password_hash
    FROM sys.server_principals sp
    LEFT JOIN sys.sql_logins sl ON sp.principal_id = sl.principal_id
    WHERE sp.type IN ('S', 'U', 'G')
    ORDER BY sp.name;

    OPEN login_curs;
    FETCH NEXT FROM login_curs INTO @name, @type_desc, @is_disabled, @defaultdb, @is_policy_checked, @is_expiration_checked, @sid, @binpwd;

    WHILE @@FETCH_STATUS = 0
    BEGIN
        IF @binpwd IS NOT NULL
            PRINT 'CREATE LOGIN [' + @name + '] WITH PASSWORD = 0x' + 
                  CONVERT(NVARCHAR(MAX), @binpwd, 1) + 
                  ' HASHED, SID = 0x' + 
                  CONVERT(NVARCHAR(256), @sid, 1) + 
                  ', DEFAULT_DATABASE = [' + @defaultdb + '], CHECK_POLICY = ' + 
                  CASE WHEN @is_policy_checked = 'ON' THEN 'ON' ELSE 'OFF' END + 
                  ', CHECK_EXPIRATION = ' + 
                  CASE WHEN @is_expiration_checked = 'ON' THEN 'ON' ELSE 'OFF' END + ';'
        ELSE
            PRINT 'CREATE LOGIN [' + @name + '] WITHOUT PASSWORD;';

        IF @is_disabled = 1
            PRINT 'ALTER LOGIN [' + @name + '] DISABLE;'
        ELSE
            PRINT 'ALTER LOGIN [' + @name + '] ENABLE;'

        FETCH NEXT FROM login_curs INTO @name, @type_desc, @is_disabled, @defaultdb, @is_policy_checked, @is_expiration_checked, @sid, @binpwd;
    END;

    CLOSE login_curs;
    DEALLOCATE login_curs;
END;
GO





and then run:
EXEC sp_help_revlogin;


---------- lcimhldb

CREATE LOGIN [db_limeslci] WITH PASSWORD = 0x0x0200659E3E631AAB96ABF6FB04A671501BF28A8D676BF980246E11399498815853DD2194BEE39621EBCB87A688FEF7D261A4C8EDC21BBAD279F3264FA3C87F11CB2E93E83A8C HASHED, SID = 0x0x77B04C2677C5374B960D11CBEBF15336, DEFAULT_DATABASE = [master], CHECK_POLICY = 0, CHECK_EXPIRATION = 0;
CREATE LOGIN [lci_hse] WITH PASSWORD = 0x0x02000275224E027F7F2E9C767CC6D59684E30ED1F069C9C359E3F9709A4A47321074F76F888FA28909595D51798CBB7286CE85CD081F98810EDFE2212ECB6612A9BDF2890706 HASHED, SID = 0x0x4911699ACB4FCC448C62D1AAA9021F07, DEFAULT_DATABASE = [LCIHSE], CHECK_POLICY = 1, CHECK_EXPIRATION = 1;
CREATE LOGIN [lci_lims] WITH PASSWORD = 0x0x0200DF4CCE65A43BE2B9963F49F9A27E62DB2DBEC1C6F7E8F7B4CDB25C70BE0D08FE180EF018C254E71CE97073892CC08DE614102959478EDEFF302587F3BD37DDF1846198FA HASHED, SID = 0x0xA859CF6B4F898A48A63A2817CC457967, DEFAULT_DATABASE = [master], CHECK_POLICY = 0, CHECK_EXPIRATION = 0;
CREATE LOGIN [lci_lims_iam] WITH PASSWORD = 0x0x0200E9507279BD84ACF77ECBB2A9CC57873828CFFEB56BD6ED852F9624061144460F89D69BF78A2DD9A923F34C37276E73BBAB012709530E2B839143D3010D1D6D88984CEA1F HASHED, SID = 0x0x17EAF18588718645B6DE44DC4EA8A40E, DEFAULT_DATABASE = [master], CHECK_POLICY = 0, CHECK_EXPIRATION = 0;
CREATE LOGIN [lci_lims_if] WITH PASSWORD = 0x0x02006DA824094512EF5214781F663DF4CDD1271A725E40AAA3F0CF1D5E9BEA01F9667DF3A005796BF9F7AB6FDD6B26252095FE1BBE337C905B1E23346744A56C8B906CA25730 HASHED, SID = 0x0x392078EF6065D1428E31F29961D07B4D, DEFAULT_DATABASE = [master], CHECK_POLICY = 0, CHECK_EXPIRATION = 0;
 

---check encryption-- 
SELECT 
    db.name AS DatabaseName, 
    db.is_encrypted AS IsEncrypted
FROM 
    sys.databases db
WHERE 
    db.name = 'MESLCI';  -- Ganti dengan nama database yang ingin diperiksa




-----lciish------

CREATE LOGIN [helpdesk_iam] WITH PASSWORD = 0x020048F8822B892CB52BEA87139A4A0015C2245E5A268213BFC80E753B5643B9F9124213ACF645B4C193B3AC6CDD3947082DA8AFBFF9807DC5059F035EAB38ABF31FD1E94507 HASHED, SID = 0x4854B55941EEFB49AC5F0CB9936D0F36, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF;
ALTER LOGIN [helpdesk_iam] ENABLE;
CREATE LOGIN [helpdesk_lci] WITH PASSWORD = 0x020006533D75D474A0A1A8F67ADC301CE25A54DCF405AB20E6E1D9387CB96263C1909FF83CB3A6B1BEFF1A14E7EB3A3DFEA287FB9697034EFF030C8E338C80030BA368746FB1 HASHED, SID = 0x8AD42BE7792C6B48B96E8813BA540450, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF;
ALTER LOGIN [helpdesk_lci] ENABLE;
CREATE LOGIN [if_nac_user] WITH PASSWORD = 0x0200900F4969127FA8150031BEB23CCF57B73DB80E8BD4C5A23013CD8C5ADF2A429F718CD462A52240C0666801B29BC645AE1AB484D05D1FC042B32133E0061641E2AF46D606 HASHED, SID = 0xFD1996D4640EF6428EF4E1B6580BAFFF, DEFAULT_DATABASE = [lcisim11r4], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF;
ALTER LOGIN [if_nac_user] ENABLE;
CREATE LOGIN [lcisim11r4] WITH PASSWORD = 0x020023D8A0759C2FF3152E93BB955171ED3BD51A7D27C3C33FE300ACF3C4E7783F6AE48AA237B080E3B9A4D6778AC5D8D7EB675AD4F4E047D0A31733AB4CDB72046B9E140055 HASHED, SID = 0xFA492078FDFEDB498A1E522968F95C31, DEFAULT_DATABASE = [lcisim11r4], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF;
ALTER LOGIN [lcisim11r4] ENABLE;
CREATE LOGIN [lcissso9r1] WITH PASSWORD = 0x02000A90BE8B3235DDA226A71C5193204F626F152F83D4B13B3DD8737DA81E2AAB51871CC75B49734E6DF42D800028E38C72D330F3FC9D7696C62B8436BA2E0F87A41488520E HASHED, SID = 0x65B3C8D0FA417A419D9A5909B10A9636, DEFAULT_DATABASE = [lcissso9r1], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF;
ALTER LOGIN [lcissso9r1] ENABLE;
CREATE LOGIN [sf_if_user] WITH PASSWORD = 0x02004AB06980BFB66DDD5EC253C994F2D059E0DAD71BDC4F5BC52782EEDC79B4876985526793B5FA0E552C732390F95616A0D7855EA5B306A165B15CD14DF9CE7995BC04263D HASHED, SID = 0xFB0698923E4A364AA3839B47B3F815B2, DEFAULT_DATABASE = [lcisim11r4], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF;
ALTER LOGIN [sf_if_user] ENABLE;


-----done
